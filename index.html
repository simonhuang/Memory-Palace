<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Two Pane App — Potion — Magic of CSS — Adam Schwartz</title>

        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,400,300,600,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/two-pane-app.css">

        <link rel="stylesheet" href="css/style.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    </head>
    <body>
        <div class="two-pane-app">
            <header><h1>The Memory Palace</h1></header>
            <section>
                <div class="left">
                    <div>
                        <form id="searchForm" method="post">
                            <input type="text">
                            <button value="Submit" type="submit" id="submitButton">Search Images</button>
                        </form>
                    </div>
                    <div class="item">
                        <div class="thumbnail"></div>
                        <div class="url"></div>
                        <div class="imgSize"></div>
                    </div>
                </div>
                <div class="right">
                    <h2>Your Memory Palace</h2>
                    <canvas id="c"></canvas>

                </div>
            </section>
        </div>

    <script>
        (function(){

            var config = {
                type		: 'images',
                perPage		: 8,			// A maximum of 8 is allowed by Google
                page		: 0				// The start page
            }

            // Focusing the input text box:
            $('form input').focus();

            $('#searchForm').submit(function(){
                googleSearch();
                return false;
            });


            function googleSearch(settings){

                // If no parameters are supplied to the function,
                // it takes its defaults from the config object above:

                settings = $.extend({},config,settings);
                settings.term = settings.term || $('form input').val();

                // URL of Google's AJAX search API
                var apiURL = 'http://ajax.googleapis.com/ajax/services/search/'+settings.type+
                        '?v=1.0&callback=?';
                var resultsDiv = $('#resultsDiv');

                $.getJSON(apiURL,{
                    q	: settings.term,
                    rsz	: settings.perPage,
                    start	: settings.page*settings.perPage
                },function(r){

                    var results = r.responseData.results;
                    // If results were returned, add them to a pageContainer div,
                    // after which append them to the #resultsDiv:

                    var pageContainer = $('<div>',{className:'pageContainer'});

                    for(var i=0;i<results.length;i++){
                        // Creating a new result object and firing its toString method:
                        console.log(results[i]);
                    }

                    /*
                    if(!settings.append){
                        // This is executed when running a new search,
                        // instead of clicking on the More button:
                        resultsDiv.empty();
                    }


                    pageContainer.append('<div class="clear"></div>')
                            .hide().appendTo(resultsDiv)
                            .fadeIn('slow');
                    */

                    var cursor = r.responseData.cursor;
                });
            }
        })();
    </script>
    </body>
</html>